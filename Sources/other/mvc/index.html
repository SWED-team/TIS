<?php

// Nastavenie interneho kodovania 
mb_internal_encoding("UTF-8");

// Callback pre automaticke nacitanie tried contorllerov a modelov
function autoloadFunction($class)
{
    // Končí název třídy řetězcem "Kontroler" ?
    if (preg_match('/Controller$/', $class)) 
        require("controllers/" . $class . ".php");
    else
        require("models/" . $class . ".php");
}

// registracia callbacku
spl_autoload_register("autoloadFunction");

// pripojenie k databaze 
Db::pripoj("127.0.0.1", "root", "", "mvc_db");

// vytvorenie smerovaca a spracovanie parametrov z URL
$router = new RouterController();
$router->proceed(array($_SERVER['REQUEST_URI']));

// Vyrenderovanie sablony
$router->printView();


?>